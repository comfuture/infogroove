{
  "name": "Horizontal Bar Chart",
  "description": "Renders a horizontal bar chart with labels and values.",
  "let": {
    "canvas": {
      "width": 960,
      "height": 540
    },
    "margin": 64,
    "barHeight": 38,
    "barGap": 20,
    "valueGap": 12,
    "fontFamily": "Inter, Arial, sans-serif",
    "background": "#ffffff",
    "textColor": "#111827",
    "valueColor": "#2563eb",
    "colors": [
      "#4338ca",
      "#2563eb",
      "#10b981",
      "#f97316",
      "#db2777"
    ]
  },
  "numElementsRange": [1, 12],
  "template": [
    {
      "type": "rect",
      "attributes": {
        "x": "0",
        "y": "0",
        "width": "100%",
        "height": "100%",
        "fill": "{background}"
      }
    },
    {
      "type": "g",
      "repeat": {
        "items": "items",
        "as": "entry",
        "index": "idx",
        "let": {
          "label": "entry.label",
          "value": "entry.value",
          "colorIndex": "idx % colors.length",
          "barColor": "colors[colorIndex]",
          "barX": "margin",
          "spanWidth": "canvas.width - 2 * margin",
          "barWidth": "spanWidth * (value / maxValue)",
          "barY": "margin + idx * (barHeight + barGap)",
          "labelY": "barY + (barHeight / 2)",
          "valueX": "barX + barWidth + valueGap"
        }
      },
      "children": [
        {
          "type": "rect",
          "attributes": {
            "x": "{barX}",
            "y": "{barY}",
            "width": "{barWidth}",
            "height": "{barHeight}",
            "fill": "{barColor}",
            "rx": "8",
            "ry": "8"
          }
        },
        {
          "type": "text",
          "attributes": {
            "x": "{barX}",
            "y": "{labelY}",
            "fill": "{textColor}",
            "fontSize": "20",
            "fontFamily": "{fontFamily}",
            "dominantBaseline": "middle"
          },
          "text": "{label}"
        },
        {
          "type": "text",
          "attributes": {
            "x": "{valueX}",
            "y": "{labelY}",
            "fill": "{valueColor}",
            "fontSize": "18",
            "fontFamily": "{fontFamily}",
            "dominantBaseline": "middle"
          },
          "text": "{value}"
        }
      ]
    }
  ]
}
