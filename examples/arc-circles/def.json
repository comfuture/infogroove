{
  "name": "Arc Positioned Circles",
  "description": "Places circular milestones along an arc projected from below the viewport.",
  "let": {
    "canvas": {
      "width": 1280,
      "height": 640
    },
    "arcSpan": 140,
    "startAngle": 20,
    "radius": 460,
    "arcOffset": 60,
    "bubbleRadius": 48,
    "radiusLabelOffset": 72,
    "fontFamily": "'Inter, Arial, sans-serif'",
    "labelColor": "#0f172a",
    "valueColor": "#1e3a8a",
    "palette": [
      "#0ea5e9",
      "#38bdf8",
      "#22d3ee",
      "#06b6d4",
      "#0284c7"
    ],
    "background": "#f0f9ff"
  },
  "template": [
    {
      "type": "rect",
      "attributes": {
        "x": "0",
        "y": "0",
        "width": "100%",
        "height": "100%",
        "fill": "{background}"
      }
    },
    {
      "type": "g",
      "repeat": {
        "items": "items",
        "as": "entry",
        "let": {
          "label": "entry.label",
          "value": "entry.value",
          "centerX": "canvas.width / 2",
          "centerY": "canvas.height + arcOffset",
          "step": "arcSpan / max(__total__ - 1, 1)",
          "angle": "startAngle + __index__ * step",
          "angleRad": "angle * Math.pi / 180",
          "cx": "centerX + radius * Math.cos(angleRad)",
          "cy": "centerY - radius * Math.sin(angleRad)",
          "fillColor": "palette[__index__ % palette.length]",
          "labelY": "cy - radiusLabelOffset"
        }
      },
      "children": [
        {
          "type": "circle",
          "attributes": {
            "cx": "{cx}",
            "cy": "{cy}",
            "r": "{bubbleRadius}",
            "fill": "{fillColor}",
            "opacity": "0.92"
          }
        },
        {
          "type": "text",
          "attributes": {
            "x": "{cx}",
            "y": "{labelY}",
            "fill": "{labelColor}",
            "fontFamily": "{fontFamily}",
            "fontSize": "22",
            "fontWeight": "600",
            "textAnchor": "middle"
          },
          "text": "{label}"
        },
        {
          "type": "text",
          "attributes": {
            "x": "{cx}",
            "y": "{cy} + 6",
            "fill": "{valueColor}",
            "fontFamily": "{fontFamily}",
            "fontSize": "20",
            "textAnchor": "middle",
            "dominantBaseline": "middle"
          },
          "text": "{value}"
        }
      ]
    }
  ]
}
